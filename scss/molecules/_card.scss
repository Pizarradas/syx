// CORE
// ===============================================
@use "../abstracts/index" as *;
// ===============================================

// mol: card
// ===============================================
// A generic surface container. Use for docs sections,
// feature panels, or any elevated content block.
//
// Variants:
//   .mol-card--flat      → no shadow, no border
//   .mol-card--bordered  → stronger border
// ===============================================

@mixin mol-card($theme: null) {
  .mol-card {
    // Container context: allows children to use @container queries
    // instead of viewport-based media queries.
    // Support: Chrome 105+, Firefox 110+, Safari 16+
    container-type: inline-size;
    container-name: mol-card;

    background: var(--semantic-color-bg-primary);
    border: var(--semantic-border-width-thin) solid var(--semantic-color-border-subtle);
    border-radius: var(--semantic-border-radius-lg);
    @include padding(var(--semantic-space-layout-md));
    margin-bottom: var(--semantic-space-layout-md);
    box-shadow: var(--semantic-shadow-card);

    // Card title (first heading child)
    > h1, > h2, > h3, > h4 {
      margin-top: 0;
      margin-bottom: var(--semantic-space-stack-sm);
    }

    // Card description (first paragraph child)
    > p {
      margin-bottom: var(--semantic-space-stack-md);
      color: var(--semantic-color-text-tertiary);
      font-size: var(--semantic-font-size-body-small);
      line-height: var(--semantic-line-height-relaxed);
    }

    // &--flat: no shadow, no border
    &--flat {
      box-shadow: none;
      border: none;
    }

    // &--bordered: stronger border
    &--bordered {
      border-color: var(--semantic-color-border-default);
    }

    // Container Query: wide card layout
    // When the card has enough width, allow two-column internal layouts.
    // Usage: place .mol-card__body--split inside a wide card.
    @container mol-card (min-width: 480px) {
      .mol-card__body--split {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--semantic-space-inline-md);
      }
    }
  }
}
