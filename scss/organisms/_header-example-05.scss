// CORE
// ===============================================
@use "../abstracts/index" as *;
// ===============================================

// LAYOUT HEADER: codymer
// ===============================================
.layout-header-example-05 {
  @include position(sticky, 0, null, null, null);
  @include padding(var(--component-header-padding-y) null);
  z-index: var(--component-header-z-index);
  background-color: var(--component-header-bg);

  // &__sidenav
  &__sidenav {
    @include position(fixed, 0, 0, null, null); // 0 or specific offset? Original was -62rem hidden
    @include size(var(--component-sidenav-width), 100%);
    z-index: var(--component-sidenav-z-index);
    background-color: var(--component-sidenav-bg);
    overflow-x: hidden;
    @include transition(transform 0.5s ease);
    transform: translateX(-100%); // Better performance than left/right
    box-shadow: var(--component-sidenav-shadow);
    
    // State: Open
    &.is-open {
      transform: translateX(0);
    }
  }

  // &__header
  &__header {
    min-height: var(--component-header-height);
    flex-basis: 100%;
  }

  // &__content
  &__content {
    @include padding(var(--semantic-space-inset-md));
    flex-basis: 100%;
  }

  // &__footer
  &__footer {
    @include padding(var(--semantic-space-inset-md));
    flex-basis: 100%;
    align-self: flex-end;
  }

  // &__logo
  &__logo {
    @include position(relative);
    @include padding(null null null var(--component-header-logo-padding-left));
    @include transition(color 0.25s ease-out);
    color: var(--component-header-logo-color);
    
    @include min-screen(768px) {
      @include padding(null null null var(--component-header-logo-padding-left-md));
    }

    // &:before (Icon)
    &:before {
      content: "";
      @include position(absolute, 0, null, 0, 0);
      margin: auto 0;
      @include size(var(--component-header-logo-icon-size));
      @include transition(all 0.25s ease-out);
      @include background-setup(
        var(--icon-logo-example-02),
        "0 0 / contain",
        no-repeat
      );
      filter: var(--filter-primary); // Tokenize if possible
      
      @include min-screen(768px) {
        @include size(var(--component-header-logo-icon-size-md));
      }
    }

    // &:hover
    &:hover {
      color: var(--component-header-logo-color-hover);
    }

    // &:focus-visible
    &:focus-visible {
      outline: var(--semantic-border-width-focus) solid var(--semantic-color-state-focus);
    }
  }

  // &__nav
  &__nav {
    margin-left: auto;
  }

  // &-nav (Sidenav Menu)
  &-nav {
    margin: 0;
    padding: 0;
    list-style: none;

    // &__item
    &__item {
      margin-bottom: 0.5rem;
    }

    // &__link
    &__link {
      @include position(relative);
      @include padding(var(--component-sidenav-link-padding-y) var(--component-sidenav-link-padding-x) var(--component-sidenav-link-padding-y) 0);
      width: 100%;
      display: block;
      font-weight: var(--component-sidenav-link-font-weight);

      // &:before (Arrow)
      &:before {
        content: "";
        @include position(absolute, 0, 0, 0, null);
        margin: auto 0;
        @include size(var(--component-sidenav-link-arrow-size));
        @include background-setup(
          var(--icon-arrow-default),
          "center / contain",
          no-repeat
        );
        filter: var(--filter-color-white); // White on primary bg
      }

      // &:hover
      &:hover {
        text-decoration: underline;
      }

      // &:focus-visible
      &:focus-visible {
        outline: var(--semantic-border-width-focus) solid var(--semantic-color-state-focus);
      }
    }

    // &__lvl2 (Submenu)
    &__lvl2 {
      @include margin(0.7rem null 1rem null);
      @include padding(null null null 0.5rem);
    }
  }

  // &-rrss (Social)
  &-rrss {
    @include margin(var(--component-header-social-gap) null);
    padding: 0;
    gap: var(--component-header-social-gap);
    display: flex;

    // .helper-icon
    .helper-icon {
      @include size(var(--component-header-social-icon-size));
      @include flex-center();

      &:before {
         @include size(calc(var(--component-header-social-icon-size) * 0.8));
         filter: var(--filter-color-white);
      }
    }

    // &__link
    &__link {
      @include position(relative);
      @include size(var(--component-header-social-icon-size));
      display: block;

      // &:focus-visible
      &:focus-visible {
        outline: var(--semantic-border-width-focus) solid var(--semantic-color-state-focus);
      }
    }
  }

  // &__close
  &__close {
    @include position(absolute, var(--semantic-space-inset-md), var(--semantic-space-inset-md), null, null);

    // .synt-btn override
    .syx-btn {
      background-color: var(--color-white);
       // Tokenize button overrides if necessary
      
      &:not(:hover) {
        background-color: transparent;
        .syx-icon:before {
          filter: var(--filter-color-white);
        }
      }
    }
  }
}
